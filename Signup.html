<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Sign up</title>
</head>
<body>
    <div class="logo pl-32 pt-8">
        <a href="/Main.html">
        <embed src="img/Hmm.svg" type="image/svg+xml" class = "text-lg"></a>
    </div>
    <div>
    <h1 class = "text-center font-semibold text-xl mt-40 text-gray-700 ">Create Your Account Today!</h1>
    <h5 class = "text-center font-semibold mt-1 text-gray-700 ">Already have an account? <button id = "login"class="hover:underline">Login</button></h5>
    <div class="flex flex-row justify-center items-center">
    <div class = "mt-10 w-1/3 h-full border shadow-lg rounded-2xl">
    <form id="registrationForm" action="/signup" method="POST" class="px-16 py-8">
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name" class="border border-solid shadow-sm rounded-lg w-full h-8 px-3"><br><br>

        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" class="border border-solid shadow-sm rounded-lg w-full h-8 px-3"><br><br>

        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password" class="border border-solid shadow-sm rounded-lg w-full h-8 px-3"><br><br>

        <label for="location">Location:</label><br>
        <input type="text" id="location" name="location" class="border border-solid shadow-sm rounded-lg w-full h-8 px-3"><br><br>

        <button type="signup" class=" py-1.5 bg-cyan-400 text-white font-semibold text-sm hover:bg-cyan-500 text-center rounded-xl w-full">Submit</button>
    </form>
    </div></div></div>
    <script>
        document.getElementById('registrationForm').addEventListener('submit', async function(event) {
            event.preventDefault();
    
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const location = document.getElementById('location').value;
    
            console.log('Form data:', { name, email, password, location });
    
            // Send form data to server
            const response = await fetch('/signup', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ name, email, password, location })
            });
    
            const responseData = await response.text();
            console.log('Server response:', responseData);

            window.location.href = responseData;
        });

        document.getElementById("login").addEventListener("click", function() {
            window.location.href = "login.html";
        });
    </script>
    
</body>
</html>
